<script>
// ì˜¤í–‰ ë¶„ë¥˜
const elements = {
  wood:  [1,6,11,16,21,26,31,36,41],
  fire:  [2,7,12,17,22,27,32,37,42],
  earth: [3,8,13,18,23,28,33,38,43],
  metal: [4,9,14,19,24,29,34,39,44],
  water: [5,10,15,20,25,30,35,40,45]
};

// 1ï¸âƒ£ ë‚´ ì‚¬ì£¼ ì˜¤í–‰ ê°€ì¤‘ì¹˜
const myWeights = {
  wood: 1.2,
  fire: 1.5,
  earth: 1.0,
  metal: 0.9,
  water: 1.4
};

// 2ï¸âƒ£ ì£¼ê°„ ì˜¤í–‰ ê¸°ìš´ (ì£¼ì°¨ % 5 ë¡œ ìˆœí™˜)
function weeklyWeights(week) {
  const order = ["wood","fire","earth","metal","water"];
  let focus = order[week % 5];
  let weights = { wood:1, fire:1, earth:1, metal:1, water:1 };
  weights[focus] = 1.8; // ê·¸ ì£¼ ìµœê°• ì˜¤í–‰
  return weights;
}

function seededRandom(seed) {
  return Math.abs(Math.sin(seed)) % 1;
}

function buildPool(weights) {
  let pool = [];
  for (let el in elements) {
    let count = Math.round(elements[el].length * weights[el]);
    for (let i=0;i<count;i++) pool.push(...elements[el]);
  }
  return pool;
}

function generateNumbers(seed, weights) {
  const pool = buildPool(weights);
  let nums = new Set();
  while (nums.size < 6) {
    seed++;
    nums.add(pool[Math.floor(seededRandom(seed) * pool.length)]);
  }
  return [...nums].sort((a,b)=>a-b);
}

function generateAll() {
  const today = new Date();
  const year = today.getFullYear();
  const week = Math.ceil((((today - new Date(year,0,1)) / 86400000) + 1) / 7);

  const container = document.getElementById("games");
  container.innerHTML = "";

  // ğŸ° ê²Œì„ 1: ë‚´ ì‚¬ì£¼
  const myNums = generateNumbers(1990090909 + year*100 + week, myWeights);
  addGame(container, "ë‚´ ì‚¬ì£¼ ìµœì  1ê²Œì„", myNums);

  // ğŸ° ê²Œì„ 2: ì£¼ê°„ ì˜¤í–‰
  const weekNums = generateNumbers(year*1000 + week, weeklyWeights(week));
  addGame(container, "ì´ë²ˆ ì£¼ ì²œìš´ 1ê²Œì„", weekNums);

  document.getElementById("weekInfo").textContent =
    `${year}ë…„ ${week}ì£¼ì°¨ ê¸°ì¤€`;
}

function addGame(container, title, nums) {
  const div = document.createElement("div");
  div.innerHTML = `<strong>ğŸ° ${title}</strong>`;
  const row = document.createElement("div");
  row.className = "numbers";
  nums.forEach(n=>{
    const b=document.createElement("div");
    b.className="ball"; b.textContent=n;
    row.appendChild(b);
  });
  div.appendChild(row);
  container.appendChild(div);
}

generateAll();
</script>
